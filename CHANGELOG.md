# Change Log

All notable changes to this project will be documented in this file
automatically by Versionist. DO NOT EDIT THIS FILE MANUALLY!
This project adheres to [Semantic Versioning](http://semver.org/).

## 8.0.0 - 2024-09-13

* Switch to Node16 module resolution [Pagan Gazzard]
* Remove lodash dependency when caching in favor of native `structuredClone` [Pagan Gazzard]
* Update lru-cache to 11.x [Pagan Gazzard]
* Update tsconfig target to es2023 [Pagan Gazzard]
* Update minimum nodejs to 20.x, npm to 10.x [Pagan Gazzard]

<details>
<summary> Update pinejs-client-core to 8.0.0 [Pagan Gazzard] </summary>

> ### pinejs-client-js-8.0.0 - 2024-09-13
> 
> * Remove error check if passing too many arguments to `request` [Pagan Gazzard]
> * Update error messages for invalid params [Pagan Gazzard]
> * Drop `url` from general `Params` and only have it in supported places [Pagan Gazzard]
> * Remove deprecated `prepare` signatures in favor of always passing expected aliases [Pagan Gazzard]
> * Remove `$filter: a: b: ...`, please use `$filter: a: $any: { $alias: "x", $expr: x: b: ... }` instead. [Pagan Gazzard]
> * Remove unused `PinejsClient` generic from the class signature [Pagan Gazzard]
> * Removed `$filter: { a: { $count: { $op: number } } }`, please use `$filter: { $eq: [ { a: { $count: {} } }, number ] }` instead. [Pagan Gazzard]
> * Update minimum supported version to es2018 [Pagan Gazzard]
> * Removed deprecated `transformGetResult` and renamed `_transformGetResult` to replace it [Pagan Gazzard]
> * Error on using OData options other than $filter in a `$expand: { a: { $count: {...} } }`. [Pagan Gazzard]
> * Removed `$orderby: 'a/$count'`, please use `$orderby: { a: { $count: {...} } }` instead. [Pagan Gazzard]
> * Removed `$expand: { 'a/$count': {...} }`, please use `$expand: { a: { $count: {...} } }` instead. [Pagan Gazzard]
> * Removed `resource: 'a/$count'`, please use `options: { $count: { ... } }` instead. [Pagan Gazzard]
> * Removed passing `url` to `compile`, please use a query object instead or use the url directly. [Pagan Gazzard]
> * Removed passing `url` to `delete`, please use a query object instead or use `request` directly. [Pagan Gazzard]
> * Removed passing `url` to `put`, please use a query object instead or use `request` directly. [Pagan Gazzard]
> * Removed passing `url` to `patch`, please use a query object instead or use `request` directly. [Pagan Gazzard]
> * Removed passing `url` to `post`, please use a query object instead or use `request` directly. [Pagan Gazzard]
> * Removed passing `url` to `get`, please use a query object instead or use `request` directly. [Pagan Gazzard]
> * Removed passing `url` to `upsert` as it is unsupported and may have adverse effects, please use a query object instead. [Pagan Gazzard]
> * Removed passing `url` to `getOrCreate` as it is unsupported and may have adverse effects, please use a query object instead. [Pagan Gazzard]
> 
> ### pinejs-client-js-7.2.0 - 2024-09-13
> 
> * Export `OptionsToResponse` type helper [Pagan Gazzard]
> 
> ### pinejs-client-js-7.1.5 - 2024-09-13
> 
> * Switch tsconfig module resolution to Node16 [Pagan Gazzard]
> 
> ### pinejs-client-js-7.1.4 - 2024-09-10
> 
> * Update TypeScript to 5.6.2 [Thodoris Greasidis]
> 
> ### pinejs-client-js-7.1.3 - 2024-09-05
> 
> * Improve `upsert` typings [Pagan Gazzard]
> 
> ### pinejs-client-js-7.1.2 - 2024-09-05
> 
> * Improve `getOrCreate` typings [Pagan Gazzard]
> 
> ### pinejs-client-js-7.1.1 - 2024-09-04
> 
> * Improve typings for `subscribe` function [Pagan Gazzard]
> * Fix typing for subscribe `on('data')` method [Pagan Gazzard]
> 
> ### pinejs-client-js-7.1.0 - 2024-09-02
> 
> * Deprecate `prepare` without expected parameter aliases [Pagan Gazzard]
> * Add the option to list expected parameter aliases when preparing a query [Pagan Gazzard]
> 
> ### pinejs-client-js-7.0.3 - Invalid date
> 
> * Fix typings for `request` method when using `method: 'GET'` [Pagan Gazzard]
> 
> ### pinejs-client-js-7.0.2 - Invalid date
> 
> * Reduce overloads for `get` by improving `OptionsToResponse` type helper [Pagan Gazzard]
> 
> ### pinejs-client-js-7.0.1 - 2024-08-29
> 
> * Change `ExpandPropsOf` and `ExpandToResponse` helpers to check the common case first [Pagan Gazzard]
> 
> ### pinejs-client-js-7.0.0 - 2024-08-13
> 
> * Update @balena/abstract-sql-to-typescript to v4 [Josh Bowling]
> 
> ### pinejs-client-js-6.15.11 - 2024-08-12
> 
> * Fix most lint warnings [Pagan Gazzard]
> 
> ### pinejs-client-js-6.15.10 - 2024-07-08
> 
> * Fix `getOrCreate` and `upsert` typing for the `body` property [Pagan Gazzard]
> 
> ### pinejs-client-js-6.15.9 - 2024-07-05
> 
> * Export `ExpandableStringKeyOf` typing [Pagan Gazzard]
> 
> ### pinejs-client-js-6.15.8 - 2024-07-05
> 
> * Improve typings of `prepare` when used to `GET` [Pagan Gazzard]
> 
> ### pinejs-client-js-6.15.7 - 2024-06-27
> 
> * Use `OptionsToResponse` to avoid most of the `get` overloads [Pagan Gazzard]
> 
> ### pinejs-client-js-6.15.6 - 2024-06-25
> 
> * Add support for nested $expand response types and $count expands [Pagan Gazzard]
> 
> ### pinejs-client-js-6.15.5 - 2024-06-25
> 
> * Select all non-expanded fields when there is no $select [Pagan Gazzard]
> 
> ### pinejs-client-js-6.15.4 - 2024-06-24
> 
> * Update dependencies [Pagan Gazzard]
> 
> ### pinejs-client-js-6.15.3 - 2024-06-20
> 
> * Correctly type that all properties are selected with a missing $select [Pagan Gazzard]
> 

</details>

## 7.5.3 - 2024-09-13

* Update @balena/lint to 9.x [Pagan Gazzard]

## 7.5.2 - 2024-06-20

* Only try to pick headers for a StatusError if headers are passed in [Pagan Gazzard]

## 7.5.1 - 2024-06-19


<details>
<summary> Update pinejs-client-core to 6.15.2 [Pagan Gazzard] </summary>

> ### pinejs-client-js-6.15.2 - 2024-06-19
> 
> * Improve $orderby typings when not providing a model [Pagan Gazzard]
> 

</details>

## 7.5.0 - 2024-06-19


<details>
<summary> Update pinejs-client-core to add support for using model specific typings [Pagan Gazzard] </summary>

> ### pinejs-client-js-6.15.1 - 2024-06-17
> 
> * Correctly type the `POST` result as being fully deferred [Pagan Gazzard]
> 
> ### pinejs-client-js-6.15.0 - 2024-06-14
> 
> * Add support for using model specific typings [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.13 - 2024-06-12
> 
> * Deprecate passing `url` to helper functions [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.12 - 2024-06-12
> 
> * Type `upsert` and `getOrCreate` as not accepting a `url` [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.11 - 2024-06-11
> 
> * Include comments in generated output so that jsdoc is available [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.10 - 2024-06-11
> 
> * Tests: improve typing of tests [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.9 - 2024-06-10
> 
> * Add `$filter` to nested `$count` typings [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.8 - 2024-06-10
> 
> * Tests: remove unnecessary/unintended returns [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.7 - 2024-06-06
> 
> * Fix using top level $count downstream [Pagan Gazzard]
> 

</details>

## 7.4.2 - 2024-06-06

* Avoid the overhead of loading `lodash` on a status error [Pagan Gazzard]

## 7.4.1 - 2024-06-06


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### typed-error-3.2.2 - 2023-04-20
> 
> * Delete CODEOWNERS [dfunckt]
> * Update dependencies [Thodoris Greasidis]
> * Replace circleCI with flowzone [Thodoris Greasidis]
> 
> ### pinejs-client-js-6.14.6 - 2024-05-28
> 
> * Type $count/$any/$all as needing to be nested in a navigation property [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.5 - 2024-05-28
> 
> * Use readonly arrays for typings for better compatibility with `as const` [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.4 - 2024-05-08
> 
> * Deprecate the generic `PinejsClient` typing in favor of using `this` for `.clone` typing [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.3 - 2024-04-17
> 
> * Update dev dependencies [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.2 - 2024-03-04
> 
> * Improve typings [Pagan Gazzard]
> 
> ### pinejs-client-js-6.14.1 - 2024-03-04
> 
> * Update dependencies [Pagan Gazzard]
> 

</details>

## 7.4.0 - 2023-12-05

* Respect the Retry-After header in request retries [Thodoris Greasidis]

## 7.3.7 - 2023-05-31

* Update flowzone.yml [Kyle Harding]

## 7.3.6 - 2022-09-26

* Specify node 10 as the minimum supported node engine in the package.json [Thodoris Greasidis]
* Replace balenaCI with flowzone [Thodoris Greasidis]

## 7.3.5 - 2022-04-08


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-client-js-6.10.2 - 2022-04-08
> 
> * Update dependencies [Pagan Gazzard]
> * Remove circleci [Pagan Gazzard]
> 
> ### pinejs-client-js-6.10.1 - 2022-02-08
> 
> * Do not await the _request() result to allow enhanced promises downstream [Thodoris Greasidis]
> 
</details>

* Remove circleci [Pagan Gazzard]

## 7.3.4 - 2022-01-25

* Bump version of pinejs-client-core [Paul Jonathan Zoulin]

## 7.3.3 - 2021-07-19

* Make use of nullish coalescing assignment where possible [Pagan Gazzard]

## 7.3.2 - 2021-06-30

* Delete CODEOWNERS [Thodoris Greasidis]

## 7.3.1 - 2021-03-22


<details>
<summary> Enable typescript strict mode [Pagan Gazzard] </summary>

> ### pinejs-client-js-6.9.5 - 2021-03-22
> 
> * Enable strict tsconfig options by default [Pagan Gazzard]
> 
> ### pinejs-client-js-6.9.4 - 2021-03-10
> 
> * Update dependencies [Pagan Gazzard]
> 
</details>

## 7.3.0 - 2020-11-20


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-client-js-6.9.3 - 2020-11-20
> 
> * Explicitly specify return types for all functions [Pagan Gazzard]
> 
> ### pinejs-client-js-6.9.2 - 2020-10-23
> 
> * Update dev dependencies [Pagan Gazzard]
> 
> ### pinejs-client-js-6.9.1 - 2020-09-17
> 
> * Improve typings [Pagan Gazzard]
> 
> ### pinejs-client-js-6.9.0 - 2020-09-07
> 
> * Add 'getOrCreate' method supporting natural keys [Thodoris Greasidis]
> 
> ### pinejs-client-js-6.8.0 - 2020-09-03
> 
> * Add support for $format [Pagan Gazzard]
> 
> ### pinejs-client-js-6.7.3 - 2020-08-26
> 
> * Improve $orderby typing to allow `[{a: 'desc'}, {b: 'asc'}]` [Pagan Gazzard]
> 
</details>

## 7.2.2 - 2020-08-24

* Update dev dependencies [Pagan Gazzard]

## 7.2.1 - 2020-08-18


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-client-js-6.7.1 - 2020-08-12
> 
> * Fix prepare $count typings [Pagan Gazzard]
> 
> ### pinejs-client-js-6.7.0 - 2020-08-12
> 
> * Improve typings for request/post/put/patch/delete [Pagan Gazzard]
> 
</details>

## 7.2.0 - 2020-08-12


<details>
<summary> Update pinejs-client-core to 6.6.1 [Pagan Gazzard] </summary>

> ### typed-error-3.2.1 - 2020-08-05
> 
> * Update dependencies [Pagan Gazzard]
> 
> ### pinejs-client-js-6.6.1 - 2020-08-11
> 
> * Fix typing when id is specified to be `AnyObject | undefined` [Pagan Gazzard]
> 
> ### pinejs-client-js-6.6.0 - 2020-08-11
> 
> * Deprecate `$expand: { 'a/$count': {...} }` [Pagan Gazzard]
> * Deprecate `resource: 'a/$count'` and update typings to reflect it [Pagan Gazzard]
> 
> ### pinejs-client-js-6.5.0 - 2020-08-11
> 
> * Add `options: { $count: { ... } }` sugar for top level $count [Pagan Gazzard]
> * Add `$expand: { a: { $count: { ... } } }` sugar for $count in expands [Pagan Gazzard]
> 
> ### pinejs-client-js-6.4.0 - 2020-08-11
> 
> * Improve return typing of `subscribe` method [Pagan Gazzard]
> 
> ### pinejs-client-js-6.3.0 - 2020-08-11
> 
> * Fix Poll.on typings [Pagan Gazzard]
> * Improve return typing when id is passed to GET methods [Pagan Gazzard]
> * Remove `PromiseResult` type, use `Promise<PromiseResultTypes>` instead [Pagan Gazzard]
> * Remove `PromiseObj` type, use `Promise<{}>` instead [Pagan Gazzard]
> 
> ### pinejs-client-js-6.2.0 - 2020-08-10
> 
> * Add `$filter: { a: { $count: 1 } }` sugar for $count in filters [Pagan Gazzard]
> 
> ### pinejs-client-js-6.1.2 - 2020-08-10
> 
> * Remove redundant ParamsObj/SubscribeParamsObj types [Pagan Gazzard]
> 
> ### pinejs-client-js-6.1.1 - 2020-08-10
> 
> * Make use of `mapObj` helper in more places [Pagan Gazzard]
> * Use `Object.keys` in preference to `hasOwnProperty` where applicable [Pagan Gazzard]
> 
</details>

## 7.1.0 - 2020-07-28


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-client-js-6.1.0 - 2020-07-21
> 
> * Add support for using named ids [Pagan Gazzard]
> 
> ### pinejs-client-js-6.0.1 - 2020-06-19
> 
> * Drop unnecessary async from request() [Thodoris Greasidis]
> 
</details>

## 7.0.1 - 2020-07-28

* Increase default timeout to 59s [Pagan Gazzard]

## 7.0.0 - 2020-06-16

* Empty commit to attempt republish [Pagan Gazzard]
* Switch from bluebird-lru-cache to lru-cache for caching [Pagan Gazzard]
* Update target to es2018 [Pagan Gazzard]
* Remove bluebird dependency [Pagan Gazzard]
* Convert to async/await [Pagan Gazzard]

<details>
<summary> Update to pinejs-client-core 6.x [Pagan Gazzard] </summary>

> ### pinejs-client-js-6.0.0 - 2020-06-04
> 
> * Increase minimum es version to es2015 [Pagan Gazzard]
> * Convert to async/await [Pagan Gazzard]
> * Remove now unnecessary PinejsClientCoreFactory [Pagan Gazzard]
> * Switch to using native promises [Pagan Gazzard]
> * Drop support for deprecated request overrides [Pagan Gazzard]
> * Drop support for deprecated `query` method [Pagan Gazzard]
> * Drop support for deprecated string based requests [Pagan Gazzard]
> * Use `;` for expand options instead of `&` [Pagan Gazzard]
</details>

## 6.2.0 - 2020-06-08

* Lazy load bluebird-lru-cache and lodash [Pagan Gazzard]

## 6.1.4 - 2020-06-08

* Convert some lodash usage to native versions [Pagan Gazzard]

## 6.1.3 - 2020-06-04

* Remove unused dependencies [Pagan Gazzard]

## 6.1.2 - 2020-06-02


<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### pinejs-client-js-5.8.0 - 2020-05-29
> 
> * Generate optional builds for es2015/es2018 as well as the default es5 [Pagan Gazzard]

> ### pinejs-client-js-5.7.1 - 2020-05-25
> 
> * Update dependencies [Pagan Gazzard]

> ### pinejs-client-js-5.7.0 - 2020-04-15
> 
> * Make transformGetResult a method , to ease overriding the get method [Thodoris Greasidis]
</details>

## 6.1.1 - 2020-03-19

* Add linting [Pagan Gazzard]

## 6.1.0 - 2020-03-19

* Move require-npm4-to-publish to dev dependencies [Pagan Gazzard]

<details>
<summary> Update dependencies [Pagan Gazzard] </summary>

> ### typed-error-3.2.0 - 2019-11-20
> 
> * update deps and specify minimum engine requirements [Will Boyce]

> ### pinejs-client-js-5.6.11 - 2020-02-21
> 
> * 🐛: Fix missing `deprecated.getStringParams` function [Andreas Fitzek]

> ### pinejs-client-js-5.6.10 - 2020-02-14
> 
> * Update to resin-lint 3.x [Pagan Gazzard]

> ### pinejs-client-js-5.6.9 - 2020-02-14
> 
> * CircleCI: Remove deploy job as it's handled by balenaCI [Pagan Gazzard]

> ### pinejs-client-js-5.6.8 - 2020-02-14
> 
> * Add the missing `method` on the post method [Thodoris Greasidis]

> ### pinejs-client-js-5.6.7 - 2020-02-14
> 
> * Deprecate request overrides [Pagan Gazzard]
> * Deprecate queries using a string url [Pagan Gazzard]
> * Deprecate `query` in favor of `get` [Pagan Gazzard]

> ### pinejs-client-js-5.6.6 - 2020-02-14
> 
> * Allow resource/$count in $filter [Pagan Gazzard]

> ### pinejs-client-js-5.6.5 - 2020-01-30
> 
> * Remove `defaults` helper in favour of `??` [Pagan Gazzard]

> ### pinejs-client-js-5.6.4 - 2020-01-30
> 
> * Avoid allocations when destroying a poll [Pagan Gazzard]

> ### pinejs-client-js-5.6.3 - 2020-01-30
> 
> * Improve `RawFilter` typing [Pagan Gazzard]

> ### pinejs-client-js-5.6.2 - 2020-01-29
> 
> * Update dependencies [Pagan Gazzard]

> ### pinejs-client-js-5.6.1 - 2020-01-22
> 
> * Switch most CODEOWNERS entries to a team [Pagan Gazzard]

> ### pinejs-client-js-5.6.0 - 2019-07-12
> 
> * Add 'upsert' method supporting natural keys, requires Pinejs ^10.19.1 [Thodoris Greasidis]

> ### pinejs-client-js-5.5.4 - 2019-06-18
> 
> * Remove unnecessary `string` type that is handled by the `Params` type [Pagan Gazzard]

> ### pinejs-client-js-5.5.3 - 2019-06-18
> 
> * Use an .npmrc to prevent creating a package-lock on each install [Thodoris Greasidis]

> ### pinejs-client-js-5.5.2 - 2019-06-10
> 
> * Add some type casting so that it compiles on TypeScript 3.5 [Thodoris Greasidis]

> ### pinejs-client-js-5.5.1 - 2019-05-15
> 
> * Fix downstream declaration creation errors due to `Dictionary` [Pagan Gazzard]

> ### pinejs-client-js-5.5.0 - 2019-05-15
> 
> * Add a prepare method that prepares a query into a function [Pagan Gazzard]

> ### pinejs-client-js-5.4.1 - 2019-05-10
> 
> * Add CODEOWNERS [Gergely Imreh]

> ### pinejs-client-js-5.4.0 - 2019-05-10
> 
> * Add support for parameter aliases in resource ids [Pagan Gazzard]

> ### pinejs-client-js-5.3.10 - 2019-05-10
> 
> * Deduplicate transformation of GET results [Pagan Gazzard]

> ### pinejs-client-js-5.3.9 - 2019-05-10
> 
> * Simplify how we expose types, which means `subscribe` is now exposed [Pagan Gazzard]

> ### pinejs-client-js-5.3.8 - 2019-05-09
> 
> * Add automatic formatting via prettier [Pagan Gazzard]

> ### pinejs-client-js-5.3.7 - 2019-05-08
> 
> * Remove node 4 build, add node 12 [Pagan Gazzard]
> * Add .versionbot/CHANGELOG.yml for downstream changelogs [Pagan Gazzard]
</details>

## 6.0.3 - 2020-01-22

* Add CODEOWNERS [Pagan Gazzard]

## 6.0.2 - 2019-05-08

* Add node 12 tests [Pagan Gazzard]
* Add upstream for pinejs-client-core [Pagan Gazzard]

## 6.0.1 - 2019-04-23

* Update target to es2016, part of/fixing the typed-error bump [Pagan Gazzard]

## 6.0.0 - 2019-04-17

* typed-error: Update to v3.1.0 [Will Boyce]

## 5.2.0 - 2019-02-11

* Export the StatusError from module [Cameron Diver]

## v5.1.0 - 2018-08-24

* Update to typescript 3 #3 [Pagan Gazzard]
* Export types via a declaration file to avoid issues with ts versions #3 [Pagan Gazzard]
* Export `PinejsClientCoreFactory` to make it easier to use those types #3 [Pagan Gazzard]

## v5.0.0 - 2018-03-29

* Convert request to typescript #1 [Pagan Gazzard]
* Update pinejs-client-core to ^5.0.0 #1 [Pagan Gazzard]

## v4.0.2 - 2018-03-14

* Switch to circleci and enable auto-publishing #2 [Pagan Gazzard]

## v4.0.1 - 2018-03-07

* Fixed require statement

## v4.0.0 - 2018-03-07

* Extracted request from pinejs-client-js to pinejs-client-request
